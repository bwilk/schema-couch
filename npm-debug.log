0 info it worked if it ends with ok
1 verbose cli [ 'node', '/usr/local/bin/npm', 'publish' ]
2 info using npm@1.3.8
3 info using node@v0.10.16
4 verbose publish [ '.' ]
5 verbose cache add [ '.', null ]
6 verbose cache add name=undefined spec="." args=[".",null]
7 verbose parsed url { protocol: null,
7 verbose parsed url   slashes: null,
7 verbose parsed url   auth: null,
7 verbose parsed url   host: null,
7 verbose parsed url   port: null,
7 verbose parsed url   hostname: null,
7 verbose parsed url   hash: null,
7 verbose parsed url   search: null,
7 verbose parsed url   query: null,
7 verbose parsed url   pathname: '.',
7 verbose parsed url   path: '.',
7 verbose parsed url   href: '.' }
8 silly lockFile 3a52ce78- .
9 verbose lock . /Users/ryan/.npm/3a52ce78-.lock
10 verbose tar pack [ '/var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz',
10 verbose tar pack   '.' ]
11 verbose tarball /var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
12 verbose folder .
13 silly lockFile 1f1177db-tar tar://.
14 verbose lock tar://. /Users/ryan/.npm/1f1177db-tar.lock
15 silly lockFile f295f09c-8278-0-15365025494247675-tmp-tgz tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
16 verbose lock tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz /Users/ryan/.npm/f295f09c-8278-0-15365025494247675-tmp-tgz.lock
17 silly lockFile 1f1177db-tar tar://.
18 silly lockFile 1f1177db-tar tar://.
19 silly lockFile f295f09c-8278-0-15365025494247675-tmp-tgz tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
20 silly lockFile f295f09c-8278-0-15365025494247675-tmp-tgz tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
21 verbose tar unpack /var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
22 silly lockFile eea396da-8278-0-15365025494247675-package tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package
23 verbose lock tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package /Users/ryan/.npm/eea396da-8278-0-15365025494247675-package.lock
24 silly lockFile f295f09c-8278-0-15365025494247675-tmp-tgz tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
25 verbose lock tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz /Users/ryan/.npm/f295f09c-8278-0-15365025494247675-tmp-tgz.lock
26 silly gunzTarPerm modes [ '755', '644' ]
27 silly gunzTarPerm extractEntry package.json
28 silly gunzTarPerm extractEntry .npmignore
29 silly gunzTarPerm extractEntry README.md
30 silly gunzTarPerm extractEntry ddoc.js
31 silly gunzTarPerm extractEntry index.js
32 silly gunzTarPerm extractEntry rewrites.js
33 silly gunzTarPerm extractEntry test/test.js
34 silly gunzTarPerm extractEntry ddoc_libs/lib/environments.js
35 silly gunzTarPerm extractEntry ddoc_libs/lib/jsv.js
36 silly gunzTarPerm extractEntry ddoc_libs/lib/validate.js
37 silly gunzTarPerm extractEntry ddoc_libs/lib/uri/uri.js
38 silly gunzTarPerm extractEntry ddoc_libs/lib/uri/schemes/urn.js
39 silly gunzTarPerm extractEntry ddoc_libs/views/lib/dotaccess.js
40 silly gunzTarPerm extractEntry ddoc_libs/views/lib/jsonselect.js
41 silly gunzTarPerm extractEntry ddoc_libs/views/lib/list_by_type.js
42 silly gunzTarPerm extractEntry ddoc_libs/views/lib/list_by_type_and_filter.js
43 silly gunzTarPerm extractEntry ddoc_libs/views/lib/relations.js
44 silly gunzTarPerm extractEntry ddoc_libs/views/lib/relations_with_filters.js
45 silly gunzTarPerm extractEntry bin/schema-couch
46 silly gunzTarPerm extractEntry example/test.js
47 silly gunzTarPerm extractEntry example/schemas/quiz.js
48 silly gunzTarPerm extractEntry example/schemas/submission.js
49 silly lockFile eea396da-8278-0-15365025494247675-package tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package
50 silly lockFile eea396da-8278-0-15365025494247675-package tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package
51 silly lockFile f295f09c-8278-0-15365025494247675-tmp-tgz tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
52 silly lockFile f295f09c-8278-0-15365025494247675-tmp-tgz tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/tmp.tgz
53 verbose tar pack [ '/Users/ryan/.npm/schema-couch/0.0.2/package.tgz',
53 verbose tar pack   '/var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package' ]
54 verbose tarball /Users/ryan/.npm/schema-couch/0.0.2/package.tgz
55 verbose folder /var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package
56 silly lockFile eea396da-8278-0-15365025494247675-package tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package
57 verbose lock tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package /Users/ryan/.npm/eea396da-8278-0-15365025494247675-package.lock
58 silly lockFile 8ae7de1f-m-schema-couch-0-0-2-package-tgz tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz
59 verbose lock tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz /Users/ryan/.npm/8ae7de1f-m-schema-couch-0-0-2-package-tgz.lock
60 silly lockFile eea396da-8278-0-15365025494247675-package tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package
61 silly lockFile eea396da-8278-0-15365025494247675-package tar:///var/folders/6x/hxdbpymx1555fbk26l6lnxz00000gn/T/npm-52671-dNjrZJ1s/1389470018278-0.15365025494247675/package
62 silly lockFile 8ae7de1f-m-schema-couch-0-0-2-package-tgz tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz
63 silly lockFile 8ae7de1f-m-schema-couch-0-0-2-package-tgz tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz
64 silly lockFile be5577a3-n-npm-schema-couch-0-0-2-package /Users/ryan/.npm/schema-couch/0.0.2/package
65 verbose lock /Users/ryan/.npm/schema-couch/0.0.2/package /Users/ryan/.npm/be5577a3-n-npm-schema-couch-0-0-2-package.lock
66 silly lockFile be5577a3-n-npm-schema-couch-0-0-2-package /Users/ryan/.npm/schema-couch/0.0.2/package
67 silly lockFile be5577a3-n-npm-schema-couch-0-0-2-package /Users/ryan/.npm/schema-couch/0.0.2/package
68 verbose tar unpack /Users/ryan/.npm/schema-couch/0.0.2/package.tgz
69 silly lockFile 3d309ac0-n-npm-schema-couch-0-0-2-package tar:///Users/ryan/.npm/schema-couch/0.0.2/package
70 verbose lock tar:///Users/ryan/.npm/schema-couch/0.0.2/package /Users/ryan/.npm/3d309ac0-n-npm-schema-couch-0-0-2-package.lock
71 silly lockFile 8ae7de1f-m-schema-couch-0-0-2-package-tgz tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz
72 verbose lock tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz /Users/ryan/.npm/8ae7de1f-m-schema-couch-0-0-2-package-tgz.lock
73 silly gunzTarPerm modes [ '755', '644' ]
74 silly gunzTarPerm extractEntry package.json
75 silly gunzTarPerm extractEntry .npmignore
76 silly gunzTarPerm extractEntry README.md
77 silly gunzTarPerm extractEntry ddoc.js
78 silly gunzTarPerm extractEntry index.js
79 silly gunzTarPerm extractEntry rewrites.js
80 silly gunzTarPerm extractEntry bin/schema-couch
81 silly gunzTarPerm extractEntry ddoc_libs/lib/environments.js
82 silly gunzTarPerm extractEntry ddoc_libs/lib/jsv.js
83 silly gunzTarPerm extractEntry ddoc_libs/lib/validate.js
84 silly gunzTarPerm extractEntry ddoc_libs/lib/uri/uri.js
85 silly gunzTarPerm extractEntry ddoc_libs/lib/uri/schemes/urn.js
86 silly gunzTarPerm extractEntry ddoc_libs/views/lib/dotaccess.js
87 silly gunzTarPerm extractEntry ddoc_libs/views/lib/jsonselect.js
88 silly gunzTarPerm extractEntry ddoc_libs/views/lib/list_by_type.js
89 silly gunzTarPerm extractEntry ddoc_libs/views/lib/list_by_type_and_filter.js
90 silly gunzTarPerm extractEntry ddoc_libs/views/lib/relations.js
91 silly gunzTarPerm extractEntry ddoc_libs/views/lib/relations_with_filters.js
92 silly gunzTarPerm extractEntry example/test.js
93 silly gunzTarPerm extractEntry example/schemas/quiz.js
94 silly gunzTarPerm extractEntry example/schemas/submission.js
95 silly gunzTarPerm extractEntry test/test.js
96 silly lockFile 3d309ac0-n-npm-schema-couch-0-0-2-package tar:///Users/ryan/.npm/schema-couch/0.0.2/package
97 silly lockFile 3d309ac0-n-npm-schema-couch-0-0-2-package tar:///Users/ryan/.npm/schema-couch/0.0.2/package
98 silly lockFile 8ae7de1f-m-schema-couch-0-0-2-package-tgz tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz
99 silly lockFile 8ae7de1f-m-schema-couch-0-0-2-package-tgz tar:///Users/ryan/.npm/schema-couch/0.0.2/package.tgz
100 verbose chmod /Users/ryan/.npm/schema-couch/0.0.2/package.tgz 644
101 verbose chown /Users/ryan/.npm/schema-couch/0.0.2/package.tgz [ 501, 20 ]
102 silly lockFile 3a52ce78- .
103 silly lockFile 3a52ce78- .
104 silly publish { name: 'schema-couch',
104 silly publish   version: '0.0.2',
104 silly publish   description: 'Using json-schemas, make a pretty decent couch api. Relationships (and batteries) included.',
104 silly publish   main: 'index.js',
104 silly publish   scripts: { test: 'tape test/*.js' },
104 silly publish   bin: { 'schema-couch': './bin/schema-couch' },
104 silly publish   author: { name: 'Ryan Ramage' },
104 silly publish   license: 'BSD-2-Clause',
104 silly publish   dependencies:
104 silly publish    { couchapp: '~0.10.0',
104 silly publish      'schema-couch-boilerplate': '0.0.1',
104 silly publish      cpr: '~0.1.1',
104 silly publish      optimist: '~0.6.0',
104 silly publish      rimraf: '~2.2.5',
104 silly publish      connect: '~2.12.0',
104 silly publish      mkdirp: '~0.3.5' },
104 silly publish   repository:
104 silly publish    { type: 'git',
104 silly publish      url: 'http://github.com/ryanramage/schema-couch.git' },
104 silly publish   maintainers: [ { name: 'Ryan Ramage', url: 'https://github.com/ryanramage' } ],
104 silly publish   devDependencies: { tape: '~2.3.0' },
104 silly publish   readme: 'schema-couch\n=============\n\nYes, yes, couchdb is schemaless, but sometimes, it is really nice to have a some \'typed\' json docs.\n\nschema-couch takes a directory full of schemas, and creates a couchdb design-doc that helps you with\ndoc manipulation, queries and relationships based on those schemas. Validation, navigation, a decent api, all in a\nvery minimal package.\n\nUsage\n-----\n\n```npm install schema-couch -g```\n\nFrom command-line\n\n```schema-couch schemafolder http://admin:admin@localhost:5984/db```\n\nIn node\n\n    var schema_couch = require(\'schema-couch\');\n\n    schema_couch(__dirname + \'/schemas\', \'http://admin:admin@localhost:5984/db\', function(err){\n        // hey, all done\n    });\n\n\nExample\n-------\n\nSee the example in the exmaple directory\n\n```node example/test.js```\n\nAfter it uploads, use futon to create a new doc, like:\n\n    {\n      type: "quiz"\n    }\n\nAnd keep trying to save. The error messages will hopefully guide you.\n\nRelationships\n-------------\n\nAs you can see in the example schemas, some additional (non-standard) properties are used to describe\nrelationships between schemas. Also, a way to create filters of lists, and values that appear in lists.\nMore information will come later as we/you experiment. Feedback welcome.\n\nAPI\n---\n\nHere are some examples of the api created by the example.\n\n    /_design/schema/_rewrite/ -> list all types\n    /_design/schema/_rewrite/quiz  -> list all quizes\n    /_design/schema/_rewrite/quiz/schema -> the quiz schema\n    /_design/schema/_rewrite/quiz/filters -> [category,difficulty], filters you can user\n    /_design/schema/_rewrite/quiz/filters/category -> list quiz category counts (where category is in quiz.list.filters)\n    /_design/schema/_rewrite/quiz/filters/category/film -> first level filter\n    /_design/schema/_rewrite/quiz/filters/catagory/film/5 -> second level filter\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5 -> quiz document\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/has_many -> [submissions, related, subquestions] list the types of children\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/has_many/submissions -> list related submissions\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/has_many/submissions/filters -> []\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/has_many/related/filters -> [category, difficulty]\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/has_many/subquestions/filters -> [category, difficulty]\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/has_many/subquestions/filters/category -> list quiz category counts\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/has_many/subquestions/filters/category/film ->\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/belongs_to -> [related_from, parent_quiz]\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/belongs_to/related_from -> many docs?\n    /_design/schema/_rewrite/quiz/id/6366d891e7a1f90bc1092577d6093fa5/belongs_to/parent_quiz -> one doc\n    /_design/schema/_rewrite/submission -> list all submissions\n    /_design/schema/_rewrite/submission/filters -> []\n    /_design/schema/_rewrite/submission/6366d891e7a1f90bc1092577d608be94/has_many -> []\n    /_design/schema/_rewrite/submission/6366d891e7a1f90bc1092577d608be94/belongs_to -> [quiz, user]\n    /_design/schema/_rewrite/submission/6366d891e7a1f90bc1092577d608be94/belongs_to/quiz -> one doc\n    /_design/schema/_rewrite/submission/6366d891e7a1f90bc1092577d608be94/belongs_to/user -> one doc\n\n\n\n\n\n\n\n',
104 silly publish   readmeFilename: 'README.md',
104 silly publish   bugs: { url: 'https://github.com/ryanramage/schema-couch/issues' },
104 silly publish   _id: 'schema-couch@0.0.2',
104 silly publish   dist: { shasum: '0fb91dc8d115c10da24e10b15087bc96d0864a3e' },
104 silly publish   _from: '.' }
105 verbose url raw schema-couch
106 verbose url resolving [ 'https://registry.npmjs.org/', './schema-couch' ]
107 verbose url resolved https://registry.npmjs.org/schema-couch
108 info trying registry request attempt 1 at 12:53:38
109 http PUT https://registry.npmjs.org/schema-couch
110 http 409 https://registry.npmjs.org/schema-couch
111 verbose url raw schema-couch
112 verbose url resolving [ 'https://registry.npmjs.org/', './schema-couch' ]
113 verbose url resolved https://registry.npmjs.org/schema-couch
114 info trying registry request attempt 1 at 12:53:39
115 http GET https://registry.npmjs.org/schema-couch
116 http 200 https://registry.npmjs.org/schema-couch
117 verbose uploading [ 'schema-couch/-/schema-couch-0.0.2.tgz/-rev/4-bbcad741987f29d636e7cdba6bdde464',
117 verbose uploading   '/Users/ryan/.npm/schema-couch/0.0.2/package.tgz' ]
118 verbose url raw schema-couch/-/schema-couch-0.0.2.tgz/-rev/4-bbcad741987f29d636e7cdba6bdde464
119 verbose url resolving [ 'https://registry.npmjs.org/',
119 verbose url resolving   './schema-couch/-/schema-couch-0.0.2.tgz/-rev/4-bbcad741987f29d636e7cdba6bdde464' ]
120 verbose url resolved https://registry.npmjs.org/schema-couch/-/schema-couch-0.0.2.tgz/-rev/4-bbcad741987f29d636e7cdba6bdde464
121 info trying registry request attempt 1 at 12:53:39
122 http PUT https://registry.npmjs.org/schema-couch/-/schema-couch-0.0.2.tgz/-rev/4-bbcad741987f29d636e7cdba6bdde464
123 http 201 https://registry.npmjs.org/schema-couch/-/schema-couch-0.0.2.tgz/-rev/4-bbcad741987f29d636e7cdba6bdde464
124 verbose publish attached [ 'schema-couch',
124 verbose publish   '/Users/ryan/.npm/schema-couch/0.0.2/package.tgz',
124 verbose publish   'schema-couch-0.0.2.tgz' ]
125 verbose url raw schema-couch/0.0.2/-tag/latest
126 verbose url resolving [ 'https://registry.npmjs.org/',
126 verbose url resolving   './schema-couch/0.0.2/-tag/latest' ]
127 verbose url resolved https://registry.npmjs.org/schema-couch/0.0.2/-tag/latest
128 info trying registry request attempt 1 at 12:53:40
129 http PUT https://registry.npmjs.org/schema-couch/0.0.2/-tag/latest
130 http 500 https://registry.npmjs.org/schema-couch/0.0.2/-tag/latest
131 info retry will retry, error on last attempt: Error: ReferenceError {[{<<"stack">>,
131 info retry    <<"([object Object],[object Object],[object Object],[object Object])@validate_doc_update:341\n(function (doc, oldDoc, user, dbCtx) {\nfunction assert(ok, message) {if (!ok) {throw {forbidden: message};}}\n\nif (!user || !user.name) {throw {unauthorized: \"Please log in before writing to the db\"};}try {require(\"monkeypatch\").patch(Object, Date, Array, String);} catch (er) {assert(false, \"failed monkeypatching\");}try {var semver = require(\"semver\");var valid = require(\"valid\");var deep = require(\"deep\");var deepEquals = deep.deepEquals;} catch (er) {assert(false, \"failed loading modules\");}try {if (oldDoc) {oldDoc.users = oldDoc.users || {};}doc.users = doc.users || {};} catch (er) {assert(false, \"failed checking users\");}try {if (isAdmin()) {return;}} catch (er) {assert(false, \"failed checking admin-ness\");}\nfunction diffObj(o, n, p) {p = p || \"\";var d = [];var seenKeys = [];for (var i in o) {seenKeys.push(i);if (n[i] === undefined) {d.push(\"Deleted: \" + p + i);} else if (typeof o[i] !== typeof n[i]) {d.push(\"Changed Type: \" + p + i);} else if (typeof o[i] === \"object\") {if (o[i]) {if (n[i]) {d = d.concat(diffObj(o[i], n[i], p + i + \".\"));} else {d.push(\"Nulled: \" + p + i);}} else {if (n[i]) {d.push(\"Un-nulled: \" + p + i);} else {}}} else if (o[i] !== n[i]) {d.push(\"Changed: \" + p + i + \" \" + JSON.stringify(o[i]) + \" -> \" + JSON.stringify(n[i]));}}for (var i in n) {if (-1 === seenKeys.indexOf(i)) {d.push(\"Added: \" + p + i);}}return d;}\n\ntry {assert(!doc.forbidden || doc._deleted, doc.forbidden);} catch (er) {assert(false, \"failed checking doc.forbidden or doc._deleted\");}try {if (oldDoc && !doc._deleted && deepEquals(doc, oldDoc, [[\"users\", user.name], [\"time\", \"modified\"]])) {return;}} catch (er) {assert(false, \"failed checking starred stuff\");}\nfunction validUser() {if (!oldDoc || !oldDoc.maintainers) {return true;}if (isAdmin()) {return true;}if (typeof oldDoc.maintainers !== \"object\") {return true;}for (var i = 0, l = oldDoc.maintainers.length; i < l; i++) {if (oldDoc.maintainers[i].name === user.name) {return true;}}return false;}\n\n\nfunction isAdmin() {if (dbCtx && dbCtx.admins) {if (dbCtx.admins.names && dbCtx.admins.roles && dbCtx.admins.names.indexOf(user.name) !== -1) {return true;}for (var i = 0; i < user.roles.length; i++) {if (dbCtx.admins.roles.indexOf(user.roles[i]) !== -1) {return true;}}}return user && user.roles.indexOf(\"_admin\") >= 0;}\n\ntry {var vu = validUser();} catch (er) {assert(false, \"problem checking user validity\");}if (!vu) {assert(vu, \"user: \" + user.name + \" not authorized to modify \" + oldDoc.name + \"\\n\" + diffObj(oldDoc, doc).join(\"\\n\"));}if (doc._deleted && doc.name === \"npm\") {throw {forbidden: \"you may not delete npm!\"};}if (doc._deleted) {return;}assert(valid.name(doc.name), \"name invalid: \" + doc.name);if (!oldDoc && doc.name !== doc.name.toLowerCase()) {assert(false, \"New packages must have all-lowercase names\");}assert(doc.name === doc._id, \"name must match _id\");assert(!doc.mtime, \"doc.mtime is deprecated\");assert(!doc.ctime, \"doc.ctime is deprecated\");assert(typeof doc.time === \"object\", \"time must be object\");assert(typeof doc['dist-tags'] === \"object\", \"dist-tags must be object\");var versions = doc.versions;assert(typeof versions === \"object\", \"versions must be object\");var latest = doc['dist-tags'].latest;if (latest) {assert(versions[latest], \"dist-tags.latest must be valid version\");}var version = versions[latest];if (version) {if (!version.dist) {assert(false, \"no dist object in \" + latest + \" version\");}if (!version.dist.tarball) {assert(false, \"no tarball in \" + latest + \" version\");}if (!version.dist.shasum) {assert(false, \"no shasum in \" + latest + \" version\");}}for (var v in doc['dist-tags']) {var ver = doc['dist-tags'][v];assert(semver.valid(ver, true), v + \" version invalid version: \" + ver);assert(versions[ver], v + \" version missing: \" + ver);}var depCount = 0;var maxDeps = 5000;\nfunction ridiculousDeps() {if (++depCount > maxDeps) {assert(false, \"too many deps.  please be less ridiculous.\");}}\n\nfor (var ver in versions) {var version = versions[ver];assert(semver.valid(ver, true), \"invalid version: \" + ver);assert(typeof version === \"object\", \"version entries must be objects\");assert(version.version === ver, \"version must match: \" + ver);assert(version.name === doc._id, \"version \" + ver + \" has incorrect name: \" + version.name);depCount = 0;for (var dep in version.dependencies || {}) {ridiculousDeps();}for (var dep in version.devDependencies || {}) {ridiculousDeps();}for (var dep in version.optionalDependencies || {}) {ridiculousDeps();}if (oldDoc && oldDoc.versions && !oldDoc.versions[ver]) {assert(semver.valid(ver), \"Invalid SemVer 2.0 version: \" + ver);if (version.hasOwnProperty(\"scripts\")) {assert(version.scripts && typeof version.scripts === \"object\", \"'scripts' field must be an object\");for (var s in version.scripts) {assert(typeof version.scripts[s] === \"string\", \"Non-string script field: \" + s);}}}}assert(Array.isArray(doc.maintainers), \"maintainers should be a list of owners\");doc.maintainers.forEach(function (m) {assert(m.name && m.email, \"Maintainer should have name and email: \" + JSON.stringify(m));});var time = doc.time;var c = new Date(Date.parse(time.created)), m = new Date(Date.parse(time.modified));assert(c.toString() !== \"Invalid Date\", \"invalid created time: \" + JSON.stringify(time.created));assert(m.toString() !== \"Invalid Date\", \"invalid modified time: \" + JSON.stringify(time.modified));if (oldDoc && oldDoc.time && oldDoc.time.created && Date.parse(oldDoc.time.created)) {assert(Date.parse(oldDoc.time.created) === Date.parse(time.created), \"created time cannot be changed\");}if (oldDoc && oldDoc.users) {assert(deepEquals(doc.users, oldDoc.users, [[user.name]]), \"you may only alter your own 'star' setting\");}if (doc.url) {assert(false, \"Package redirection has been removed. Please update your publish scripts.\");}if (doc.description) {assert(typeof doc.description === \"string\", \"\\\"description\\\" field must be a string\");}var oldVersions = oldDoc ? oldDoc.versions || {} : {};var oldTime = oldDoc ? oldDoc.time || {} : {};var versions = Object.keys(doc.versions), modified = null;for (var i = 0, l = versions.length; i < l; i++) {var v = versions[i];if (!v) {continue;}assert(doc.time[v], \"must have time entry for \" + v);if (!deepEquals(doc.versions[v], oldVersions[v], [[\"directories\"], [\"deprecated\"]]) && doc.versions[v]) {var t = Date.parse(doc.time[v]), n = Date.now();if (typeof doc.versions[v]._npmUser !== \"object\") {continue;}assert(typeof doc.versions[v]._npmUser === \"object\", \"_npmUser field must be object\\n(You probably need to upgrade your npm version)\");assert(doc.versions[v]._npmUser.name === user.name, \"version=\" + v + \"\\n\" + \"user.name=\" + user.name + \"\\n\" + \"_npmUser.name=\" + _npmUser.name + \"\\n\" + \"_npmUser.name must === user.name\");var found = false;for (var j = 0, lm = doc.maintainers.length; j < lm; j++) {var m = doc.maintainers[j];if (m.name === doc.versions[v]._npmUser.name) {found = true;break;}}assert(found, \"_npmUser must be a current maintainer.\\n\" + \"maintainers=\" + JSON.stringify(doc.maintainers) + \"\\n\" + \"current user=\" + JSON.stringify(doc.versions[v]._npmUser));} else if (oldTime[v]) {assert(oldTime[v] === doc.time[v], v + \" time should not be modified 1\");}}for (var v in oldTime) {if (doc.versions[v] || !oldVersions[v]) {continue;}assert(doc.time[v] === oldTime[v], v + \" time should not be modified 2\");}},[object Object],[object Array])@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1270\n(\"_design/scratch\",[object Array],[object Array])@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1517\n()@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1562\n@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1573\n@:0\n">>}]}: schema-couch/0.0.2/-tag/latest
132 info trying registry request attempt 2 at 12:53:50
133 http PUT https://registry.npmjs.org/schema-couch/0.0.2/-tag/latest
134 http 500 https://registry.npmjs.org/schema-couch/0.0.2/-tag/latest
135 info retry will retry, error on last attempt: Error: ReferenceError {[{<<"stack">>,
135 info retry    <<"([object Object],[object Object],[object Object],[object Object])@validate_doc_update:341\n(function (doc, oldDoc, user, dbCtx) {\nfunction assert(ok, message) {if (!ok) {throw {forbidden: message};}}\n\nif (!user || !user.name) {throw {unauthorized: \"Please log in before writing to the db\"};}try {require(\"monkeypatch\").patch(Object, Date, Array, String);} catch (er) {assert(false, \"failed monkeypatching\");}try {var semver = require(\"semver\");var valid = require(\"valid\");var deep = require(\"deep\");var deepEquals = deep.deepEquals;} catch (er) {assert(false, \"failed loading modules\");}try {if (oldDoc) {oldDoc.users = oldDoc.users || {};}doc.users = doc.users || {};} catch (er) {assert(false, \"failed checking users\");}try {if (isAdmin()) {return;}} catch (er) {assert(false, \"failed checking admin-ness\");}\nfunction diffObj(o, n, p) {p = p || \"\";var d = [];var seenKeys = [];for (var i in o) {seenKeys.push(i);if (n[i] === undefined) {d.push(\"Deleted: \" + p + i);} else if (typeof o[i] !== typeof n[i]) {d.push(\"Changed Type: \" + p + i);} else if (typeof o[i] === \"object\") {if (o[i]) {if (n[i]) {d = d.concat(diffObj(o[i], n[i], p + i + \".\"));} else {d.push(\"Nulled: \" + p + i);}} else {if (n[i]) {d.push(\"Un-nulled: \" + p + i);} else {}}} else if (o[i] !== n[i]) {d.push(\"Changed: \" + p + i + \" \" + JSON.stringify(o[i]) + \" -> \" + JSON.stringify(n[i]));}}for (var i in n) {if (-1 === seenKeys.indexOf(i)) {d.push(\"Added: \" + p + i);}}return d;}\n\ntry {assert(!doc.forbidden || doc._deleted, doc.forbidden);} catch (er) {assert(false, \"failed checking doc.forbidden or doc._deleted\");}try {if (oldDoc && !doc._deleted && deepEquals(doc, oldDoc, [[\"users\", user.name], [\"time\", \"modified\"]])) {return;}} catch (er) {assert(false, \"failed checking starred stuff\");}\nfunction validUser() {if (!oldDoc || !oldDoc.maintainers) {return true;}if (isAdmin()) {return true;}if (typeof oldDoc.maintainers !== \"object\") {return true;}for (var i = 0, l = oldDoc.maintainers.length; i < l; i++) {if (oldDoc.maintainers[i].name === user.name) {return true;}}return false;}\n\n\nfunction isAdmin() {if (dbCtx && dbCtx.admins) {if (dbCtx.admins.names && dbCtx.admins.roles && dbCtx.admins.names.indexOf(user.name) !== -1) {return true;}for (var i = 0; i < user.roles.length; i++) {if (dbCtx.admins.roles.indexOf(user.roles[i]) !== -1) {return true;}}}return user && user.roles.indexOf(\"_admin\") >= 0;}\n\ntry {var vu = validUser();} catch (er) {assert(false, \"problem checking user validity\");}if (!vu) {assert(vu, \"user: \" + user.name + \" not authorized to modify \" + oldDoc.name + \"\\n\" + diffObj(oldDoc, doc).join(\"\\n\"));}if (doc._deleted && doc.name === \"npm\") {throw {forbidden: \"you may not delete npm!\"};}if (doc._deleted) {return;}assert(valid.name(doc.name), \"name invalid: \" + doc.name);if (!oldDoc && doc.name !== doc.name.toLowerCase()) {assert(false, \"New packages must have all-lowercase names\");}assert(doc.name === doc._id, \"name must match _id\");assert(!doc.mtime, \"doc.mtime is deprecated\");assert(!doc.ctime, \"doc.ctime is deprecated\");assert(typeof doc.time === \"object\", \"time must be object\");assert(typeof doc['dist-tags'] === \"object\", \"dist-tags must be object\");var versions = doc.versions;assert(typeof versions === \"object\", \"versions must be object\");var latest = doc['dist-tags'].latest;if (latest) {assert(versions[latest], \"dist-tags.latest must be valid version\");}var version = versions[latest];if (version) {if (!version.dist) {assert(false, \"no dist object in \" + latest + \" version\");}if (!version.dist.tarball) {assert(false, \"no tarball in \" + latest + \" version\");}if (!version.dist.shasum) {assert(false, \"no shasum in \" + latest + \" version\");}}for (var v in doc['dist-tags']) {var ver = doc['dist-tags'][v];assert(semver.valid(ver, true), v + \" version invalid version: \" + ver);assert(versions[ver], v + \" version missing: \" + ver);}var depCount = 0;var maxDeps = 5000;\nfunction ridiculousDeps() {if (++depCount > maxDeps) {assert(false, \"too many deps.  please be less ridiculous.\");}}\n\nfor (var ver in versions) {var version = versions[ver];assert(semver.valid(ver, true), \"invalid version: \" + ver);assert(typeof version === \"object\", \"version entries must be objects\");assert(version.version === ver, \"version must match: \" + ver);assert(version.name === doc._id, \"version \" + ver + \" has incorrect name: \" + version.name);depCount = 0;for (var dep in version.dependencies || {}) {ridiculousDeps();}for (var dep in version.devDependencies || {}) {ridiculousDeps();}for (var dep in version.optionalDependencies || {}) {ridiculousDeps();}if (oldDoc && oldDoc.versions && !oldDoc.versions[ver]) {assert(semver.valid(ver), \"Invalid SemVer 2.0 version: \" + ver);if (version.hasOwnProperty(\"scripts\")) {assert(version.scripts && typeof version.scripts === \"object\", \"'scripts' field must be an object\");for (var s in version.scripts) {assert(typeof version.scripts[s] === \"string\", \"Non-string script field: \" + s);}}}}assert(Array.isArray(doc.maintainers), \"maintainers should be a list of owners\");doc.maintainers.forEach(function (m) {assert(m.name && m.email, \"Maintainer should have name and email: \" + JSON.stringify(m));});var time = doc.time;var c = new Date(Date.parse(time.created)), m = new Date(Date.parse(time.modified));assert(c.toString() !== \"Invalid Date\", \"invalid created time: \" + JSON.stringify(time.created));assert(m.toString() !== \"Invalid Date\", \"invalid modified time: \" + JSON.stringify(time.modified));if (oldDoc && oldDoc.time && oldDoc.time.created && Date.parse(oldDoc.time.created)) {assert(Date.parse(oldDoc.time.created) === Date.parse(time.created), \"created time cannot be changed\");}if (oldDoc && oldDoc.users) {assert(deepEquals(doc.users, oldDoc.users, [[user.name]]), \"you may only alter your own 'star' setting\");}if (doc.url) {assert(false, \"Package redirection has been removed. Please update your publish scripts.\");}if (doc.description) {assert(typeof doc.description === \"string\", \"\\\"description\\\" field must be a string\");}var oldVersions = oldDoc ? oldDoc.versions || {} : {};var oldTime = oldDoc ? oldDoc.time || {} : {};var versions = Object.keys(doc.versions), modified = null;for (var i = 0, l = versions.length; i < l; i++) {var v = versions[i];if (!v) {continue;}assert(doc.time[v], \"must have time entry for \" + v);if (!deepEquals(doc.versions[v], oldVersions[v], [[\"directories\"], [\"deprecated\"]]) && doc.versions[v]) {var t = Date.parse(doc.time[v]), n = Date.now();if (typeof doc.versions[v]._npmUser !== \"object\") {continue;}assert(typeof doc.versions[v]._npmUser === \"object\", \"_npmUser field must be object\\n(You probably need to upgrade your npm version)\");assert(doc.versions[v]._npmUser.name === user.name, \"version=\" + v + \"\\n\" + \"user.name=\" + user.name + \"\\n\" + \"_npmUser.name=\" + _npmUser.name + \"\\n\" + \"_npmUser.name must === user.name\");var found = false;for (var j = 0, lm = doc.maintainers.length; j < lm; j++) {var m = doc.maintainers[j];if (m.name === doc.versions[v]._npmUser.name) {found = true;break;}}assert(found, \"_npmUser must be a current maintainer.\\n\" + \"maintainers=\" + JSON.stringify(doc.maintainers) + \"\\n\" + \"current user=\" + JSON.stringify(doc.versions[v]._npmUser));} else if (oldTime[v]) {assert(oldTime[v] === doc.time[v], v + \" time should not be modified 1\");}}for (var v in oldTime) {if (doc.versions[v] || !oldVersions[v]) {continue;}assert(doc.time[v] === oldTime[v], v + \" time should not be modified 2\");}},[object Object],[object Array])@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1270\n(\"_design/scratch\",[object Array],[object Array])@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1517\n()@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1562\n@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1573\n@:0\n">>}]}: schema-couch/0.0.2/-tag/latest
136 info trying registry request attempt 3 at 12:54:51
137 http PUT https://registry.npmjs.org/schema-couch/0.0.2/-tag/latest
138 http 500 https://registry.npmjs.org/schema-couch/0.0.2/-tag/latest
139 error publish Error uploading package
140 error Error: ReferenceError {[{<<"stack">>,
140 error    <<"([object Object],[object Object],[object Object],[object Object])@validate_doc_update:341\n(function (doc, oldDoc, user, dbCtx) {\nfunction assert(ok, message) {if (!ok) {throw {forbidden: message};}}\n\nif (!user || !user.name) {throw {unauthorized: \"Please log in before writing to the db\"};}try {require(\"monkeypatch\").patch(Object, Date, Array, String);} catch (er) {assert(false, \"failed monkeypatching\");}try {var semver = require(\"semver\");var valid = require(\"valid\");var deep = require(\"deep\");var deepEquals = deep.deepEquals;} catch (er) {assert(false, \"failed loading modules\");}try {if (oldDoc) {oldDoc.users = oldDoc.users || {};}doc.users = doc.users || {};} catch (er) {assert(false, \"failed checking users\");}try {if (isAdmin()) {return;}} catch (er) {assert(false, \"failed checking admin-ness\");}\nfunction diffObj(o, n, p) {p = p || \"\";var d = [];var seenKeys = [];for (var i in o) {seenKeys.push(i);if (n[i] === undefined) {d.push(\"Deleted: \" + p + i);} else if (typeof o[i] !== typeof n[i]) {d.push(\"Changed Type: \" + p + i);} else if (typeof o[i] === \"object\") {if (o[i]) {if (n[i]) {d = d.concat(diffObj(o[i], n[i], p + i + \".\"));} else {d.push(\"Nulled: \" + p + i);}} else {if (n[i]) {d.push(\"Un-nulled: \" + p + i);} else {}}} else if (o[i] !== n[i]) {d.push(\"Changed: \" + p + i + \" \" + JSON.stringify(o[i]) + \" -> \" + JSON.stringify(n[i]));}}for (var i in n) {if (-1 === seenKeys.indexOf(i)) {d.push(\"Added: \" + p + i);}}return d;}\n\ntry {assert(!doc.forbidden || doc._deleted, doc.forbidden);} catch (er) {assert(false, \"failed checking doc.forbidden or doc._deleted\");}try {if (oldDoc && !doc._deleted && deepEquals(doc, oldDoc, [[\"users\", user.name], [\"time\", \"modified\"]])) {return;}} catch (er) {assert(false, \"failed checking starred stuff\");}\nfunction validUser() {if (!oldDoc || !oldDoc.maintainers) {return true;}if (isAdmin()) {return true;}if (typeof oldDoc.maintainers !== \"object\") {return true;}for (var i = 0, l = oldDoc.maintainers.length; i < l; i++) {if (oldDoc.maintainers[i].name === user.name) {return true;}}return false;}\n\n\nfunction isAdmin() {if (dbCtx && dbCtx.admins) {if (dbCtx.admins.names && dbCtx.admins.roles && dbCtx.admins.names.indexOf(user.name) !== -1) {return true;}for (var i = 0; i < user.roles.length; i++) {if (dbCtx.admins.roles.indexOf(user.roles[i]) !== -1) {return true;}}}return user && user.roles.indexOf(\"_admin\") >= 0;}\n\ntry {var vu = validUser();} catch (er) {assert(false, \"problem checking user validity\");}if (!vu) {assert(vu, \"user: \" + user.name + \" not authorized to modify \" + oldDoc.name + \"\\n\" + diffObj(oldDoc, doc).join(\"\\n\"));}if (doc._deleted && doc.name === \"npm\") {throw {forbidden: \"you may not delete npm!\"};}if (doc._deleted) {return;}assert(valid.name(doc.name), \"name invalid: \" + doc.name);if (!oldDoc && doc.name !== doc.name.toLowerCase()) {assert(false, \"New packages must have all-lowercase names\");}assert(doc.name === doc._id, \"name must match _id\");assert(!doc.mtime, \"doc.mtime is deprecated\");assert(!doc.ctime, \"doc.ctime is deprecated\");assert(typeof doc.time === \"object\", \"time must be object\");assert(typeof doc['dist-tags'] === \"object\", \"dist-tags must be object\");var versions = doc.versions;assert(typeof versions === \"object\", \"versions must be object\");var latest = doc['dist-tags'].latest;if (latest) {assert(versions[latest], \"dist-tags.latest must be valid version\");}var version = versions[latest];if (version) {if (!version.dist) {assert(false, \"no dist object in \" + latest + \" version\");}if (!version.dist.tarball) {assert(false, \"no tarball in \" + latest + \" version\");}if (!version.dist.shasum) {assert(false, \"no shasum in \" + latest + \" version\");}}for (var v in doc['dist-tags']) {var ver = doc['dist-tags'][v];assert(semver.valid(ver, true), v + \" version invalid version: \" + ver);assert(versions[ver], v + \" version missing: \" + ver);}var depCount = 0;var maxDeps = 5000;\nfunction ridiculousDeps() {if (++depCount > maxDeps) {assert(false, \"too many deps.  please be less ridiculous.\");}}\n\nfor (var ver in versions) {var version = versions[ver];assert(semver.valid(ver, true), \"invalid version: \" + ver);assert(typeof version === \"object\", \"version entries must be objects\");assert(version.version === ver, \"version must match: \" + ver);assert(version.name === doc._id, \"version \" + ver + \" has incorrect name: \" + version.name);depCount = 0;for (var dep in version.dependencies || {}) {ridiculousDeps();}for (var dep in version.devDependencies || {}) {ridiculousDeps();}for (var dep in version.optionalDependencies || {}) {ridiculousDeps();}if (oldDoc && oldDoc.versions && !oldDoc.versions[ver]) {assert(semver.valid(ver), \"Invalid SemVer 2.0 version: \" + ver);if (version.hasOwnProperty(\"scripts\")) {assert(version.scripts && typeof version.scripts === \"object\", \"'scripts' field must be an object\");for (var s in version.scripts) {assert(typeof version.scripts[s] === \"string\", \"Non-string script field: \" + s);}}}}assert(Array.isArray(doc.maintainers), \"maintainers should be a list of owners\");doc.maintainers.forEach(function (m) {assert(m.name && m.email, \"Maintainer should have name and email: \" + JSON.stringify(m));});var time = doc.time;var c = new Date(Date.parse(time.created)), m = new Date(Date.parse(time.modified));assert(c.toString() !== \"Invalid Date\", \"invalid created time: \" + JSON.stringify(time.created));assert(m.toString() !== \"Invalid Date\", \"invalid modified time: \" + JSON.stringify(time.modified));if (oldDoc && oldDoc.time && oldDoc.time.created && Date.parse(oldDoc.time.created)) {assert(Date.parse(oldDoc.time.created) === Date.parse(time.created), \"created time cannot be changed\");}if (oldDoc && oldDoc.users) {assert(deepEquals(doc.users, oldDoc.users, [[user.name]]), \"you may only alter your own 'star' setting\");}if (doc.url) {assert(false, \"Package redirection has been removed. Please update your publish scripts.\");}if (doc.description) {assert(typeof doc.description === \"string\", \"\\\"description\\\" field must be a string\");}var oldVersions = oldDoc ? oldDoc.versions || {} : {};var oldTime = oldDoc ? oldDoc.time || {} : {};var versions = Object.keys(doc.versions), modified = null;for (var i = 0, l = versions.length; i < l; i++) {var v = versions[i];if (!v) {continue;}assert(doc.time[v], \"must have time entry for \" + v);if (!deepEquals(doc.versions[v], oldVersions[v], [[\"directories\"], [\"deprecated\"]]) && doc.versions[v]) {var t = Date.parse(doc.time[v]), n = Date.now();if (typeof doc.versions[v]._npmUser !== \"object\") {continue;}assert(typeof doc.versions[v]._npmUser === \"object\", \"_npmUser field must be object\\n(You probably need to upgrade your npm version)\");assert(doc.versions[v]._npmUser.name === user.name, \"version=\" + v + \"\\n\" + \"user.name=\" + user.name + \"\\n\" + \"_npmUser.name=\" + _npmUser.name + \"\\n\" + \"_npmUser.name must === user.name\");var found = false;for (var j = 0, lm = doc.maintainers.length; j < lm; j++) {var m = doc.maintainers[j];if (m.name === doc.versions[v]._npmUser.name) {found = true;break;}}assert(found, \"_npmUser must be a current maintainer.\\n\" + \"maintainers=\" + JSON.stringify(doc.maintainers) + \"\\n\" + \"current user=\" + JSON.stringify(doc.versions[v]._npmUser));} else if (oldTime[v]) {assert(oldTime[v] === doc.time[v], v + \" time should not be modified 1\");}}for (var v in oldTime) {if (doc.versions[v] || !oldVersions[v]) {continue;}assert(doc.time[v] === oldTime[v], v + \" time should not be modified 2\");}},[object Object],[object Array])@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1270\n(\"_design/scratch\",[object Array],[object Array])@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1517\n()@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1562\n@/home/ubuntu/hosting/installs/hosting_v1.5.0r2/share/couchdb/server/main.js:1573\n@:0\n">>}]}: schema-couch/0.0.2/-tag/latest
140 error     at RegClient.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:272:14)
140 error     at Request.self.callback (/usr/local/lib/node_modules/npm/node_modules/request/index.js:148:22)
140 error     at Request.EventEmitter.emit (events.js:98:17)
140 error     at Request.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/request/index.js:891:14)
140 error     at Request.EventEmitter.emit (events.js:117:20)
140 error     at IncomingMessage.<anonymous> (/usr/local/lib/node_modules/npm/node_modules/request/index.js:842:12)
140 error     at IncomingMessage.EventEmitter.emit (events.js:117:20)
140 error     at _stream_readable.js:912:16
140 error     at process._tickCallback (node.js:415:13)
141 error If you need help, you may report this log at:
141 error     <http://github.com/isaacs/npm/issues>
141 error or email it to:
141 error     <npm-@googlegroups.com>
142 error System Darwin 12.3.0
143 error command "node" "/usr/local/bin/npm" "publish"
144 error cwd /Volumes/untitled/github/ryanramage/schema-couch
145 error node -v v0.10.16
146 error npm -v 1.3.8
147 verbose exit [ 1, true ]
